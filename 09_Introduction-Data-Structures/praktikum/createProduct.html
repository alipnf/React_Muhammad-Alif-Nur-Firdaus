<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Create Product</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid px-5">
          <a class="navbar-brand fw-semibold" href="#">Simple Header</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-md-end"
            id="navbarNav"
          >
            <ul class="navbar-nav gap-3 mt-3 mt-md-0">
              <li class="nav-item bg-primary rounded">
                <a
                  class="nav-link active text-light"
                  aria-current="page"
                  href="#"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link text-primary" href="#">Features</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-primary" href="#">Pricing</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-primary" href="#">FAQs</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-primary" href="#">About</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div
      class="container mx-auto px-5 d-flex justify-content-center text-center"
      style="width: 65%"
    >
      <div class="row">
        <div class="col mt-5">
          <h1 class="fw-semibold mt-3">Create Product</h1>
          <p class="mt-2">
            Below is an example form built entirely with Bootstrapâ€™s form
            controls. Each required form group has a validation state that can
            be triggered by attempting to submit the form without completing it.
          </p>
          <!-- Form Start -->
          <form
            class="text-start needs-validation"
            novalidate
            style="margin-top: 10%"
            id="productForm"
          >
            <h4 class="mb-3">Detail Product</h4>
            <div class="mb-5">
              <label for="productName" class="form-label">Product name</label>
              <input
                type="text"
                class="form-control w-50"
                id="productName"
                required
              />
              <div class="invalid-feedback">Please provide a product name.</div>
            </div>

            <div class="mb-5">
              <label for="productCategory" class="form-label"
                >Product Category</label
              >
              <select
                class="form-select"
                style="width: 40%"
                id="productCategory"
                required
              >
                <option selected disabled value="">Choose...</option>
                <option value="1">Category 1</option>
                <option value="2">Category 2</option>
                <option value="3">Category 3</option>
              </select>
              <div class="invalid-feedback">
                Please select a valid product category.
              </div>
            </div>

            <div class="mb-5" style="width: 35%">
              <label for="productImage" class="form-label"
                >Image of Product</label
              >
              <input
                class="form-control"
                type="file"
                id="productImage"
                required
              />
              <div class="invalid-feedback">Please upload a product image.</div>
            </div>

            <div class="mb-3">
              <label class="form-label">Product Freshness</label>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="productFreshness"
                  id="freshness1"
                  value="brandNew"
                  required
                />
                <label class="form-check-label" for="freshness1"
                  >Brand New</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="productFreshness"
                  id="freshness2"
                  value="secondHand"
                />
                <label class="form-check-label" for="freshness2"
                  >Second Hand</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="productFreshness"
                  id="freshness3"
                  value="refurbished"
                />
                <label class="form-check-label" for="freshness3"
                  >Refurbished</label
                >
              </div>
              <div class="invalid-feedback">
                Please choose the product freshness.
              </div>
            </div>

            <div class="mb-5">
              <label for="additionalDescription" class="form-label"
                >Additional Description</label
              >
              <textarea
                class="form-control"
                id="additionalDescription"
                rows="5"
                required
              ></textarea>
              <div class="invalid-feedback">
                Please provide an additional description.
              </div>
            </div>

            <div class="mb-3">
              <label for="productPrice" class="form-label">Product Price</label>
              <div class="input-group">
                <span class="input-group-text">$</span>
                <input
                  type="text"
                  class="form-control"
                  id="productPrice"
                  required
                />
                <div class="invalid-feedback">
                  Please provide a valid price.
                </div>
              </div>
            </div>

            <div class="alert alert-danger d-none" id="errorAlert" role="alert">
              input harus berupa angka
            </div>

            <div class="d-flex justify-content-center">
              <button
                type="submit"
                class="btn btn-primary"
                style="width: 75%; 20%"
              >
                Submit
              </button>
            </div>
          </form>
          <!-- Form End -->
        </div>
        <div class="row" style="margin-top: 20%">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Product name</th>
                <th scope="col">Product Category</th>
                <th scope="col">Image of Product</th>
                <th scope="col">Product Freshness</th>
                <th scope="col">Additional Description</th>
                <th scope="col">Product Price</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <button type="button" id="deleteButton" class="btn btn-danger">
          Delete
        </button>
        <button type="button" id="searchButton" class="btn btn-info">
          Search
        </button>
      </div>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="submitModal"
      tabindex="-1"
      aria-labelledby="submitModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="submitModalLabel">
              Submission Successful
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            Your product has been successfully submitted!
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="script.js"></script>

    <script>
      (function () {
        "use strict";

        // Ambil semua form yang memerlukan validasi
        var forms = document.querySelectorAll(".needs-validation");

        // Fungsi untuk validasi dan menangani submit form
        function handleFormSubmit(form) {
          form.addEventListener("submit", function (event) {
            var priceInput = document.getElementById("productPrice");
            var errorAlert = document.getElementById("errorAlert");
            var priceValue = priceInput.value;

            // Reset visibilitas error alert
            errorAlert.classList.add("d-none");

            // Validasi form dan harga
            if (
              !form.checkValidity() ||
              isNaN(priceValue) ||
              priceValue.trim() === ""
            ) {
              event.preventDefault();
              event.stopPropagation();

              // Tampilkan error jika harga tidak valid
              if (isNaN(priceValue) || priceValue.trim() === "") {
                errorAlert.classList.remove("d-none");
              }
            } else {
              // Tampilkan modal jika form valid
              event.preventDefault(); // Mencegah pengiriman form
              var submitModal = new bootstrap.Modal(
                document.getElementById("submitModal"),
              );
              submitModal.show();
            }

            form.classList.add("was-validated");
          });
        }

        // Daftarkan event listener untuk setiap form
        Array.prototype.slice.call(forms).forEach(handleFormSubmit);
      })();
    </script>
  </body>
</html>
